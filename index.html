<!DOCTYPE html>
<html>
<head>
<title>Scientific Calculator</title>

<style>
:root{
    --bg:#f4f6fb;
    --card:#ffffff;
    --btn:#e0e0e0;
    --operator:#5a78e4;
    --equal:#1cc88a;
    --clear:#e74a3b;
    --text:#000;
}

.dark{
    --bg:#1e1e2f;
    --card:#2a2a3d;
    --btn:#3a3a55;
    --operator:#7b9cff;
    --equal:#2ecc71;
    --clear:#ff6b6b;
    --text:#ffffff;
}

body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:var(--bg);
    font-family:Arial, sans-serif;
    color:var(--text);
}

.container{
    display:flex;
    gap:25px;
}

.calculator,.history{
    background:var(--card);
    padding:20px;
    border-radius:15px;
    box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

.calculator{ width:300px; }
.history{ width:230px; display:flex; flex-direction:column; }

#display{
    width:100%;
    height:55px;
    font-size:24px;
    text-align:right;
    margin-bottom:15px;
    padding-right:10px;
    border-radius:8px;
    border:none;
    background:#f0f0f0;
}

.buttons{
    display:grid;
    grid-template-columns:repeat(5,1fr);
    gap:8px;
}

button{
    height:50px;
    font-size:15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:var(--btn);
    color:var(--text);
}

.operator{ background:var(--operator); color:white; }
.equal{ background:var(--equal); color:white; grid-column:span 2; }
.clear{ background:var(--clear); color:white; }

.history h3{ text-align:center; }
.history-list{ flex:1; overflow-y:auto; font-size:14px; }
.history-list div{ padding:5px 0; border-bottom:1px solid #aaa; }

.clear-history{
    margin-top:10px;
    height:35px;
    border:none;
    border-radius:8px;
    background:#f6c23e;
    cursor:pointer;
}

.toggle{
    margin-bottom:10px;
    text-align:right;
}
</style>
</head>

<body>

<div class="container">

<div class="calculator">
<div class="toggle">
<button onclick="toggleTheme()">Toggle Mode</button>
</div>

<input type="text" id="display" disabled>

<div class="buttons">
<button class="clear" onclick="clearDisplay()">C</button>
<button onclick="sqrt()">√</button>
<button onclick="square()">x²</button>
<button onclick="power()">xʸ</button>
<button class="operator" onclick="append('/')">÷</button>

<button onclick="sin()">sin</button>
<button onclick="cos()">cos</button>
<button onclick="tan()">tan</button>
<button onclick="log()">log</button>
<button class="operator" onclick="append('*')">×</button>

<button onclick="append('7')">7</button>
<button onclick="append('8')">8</button>
<button onclick="append('9')">9</button>
<button onclick="pi()">π</button>
<button class="operator" onclick="append('-')">−</button>

<button onclick="append('4')">4</button>
<button onclick="append('5')">5</button>
<button onclick="append('6')">6</button>
<button onclick="reciprocal()">1/x</button>
<button class="operator" onclick="append('+')">+</button>

<button onclick="append('1')">1</button>
<button onclick="append('2')">2</button>
<button onclick="append('3')">3</button>
<button onclick="append('.')">.</button>
<button class="equal" onclick="calculate()">=</button>

<button onclick="append('0')">0</button>
</div>
</div>

<div class="history">
<h3>History</h3>
<div class="history-list" id="history"></div>
<button class="clear-history" onclick="clearHistory()">Clear History</button>
</div>

</div>

<script>
const d=()=>document.getElementById("display");

function append(v){ d().value+=v; }
function clearDisplay(){ d().value=""; }

function calculate(){
    try{
        let e=d().value;
        let r=eval(e);
        d().value=r;
        let h=document.createElement("div");
        h.innerText=e+" = "+r;
        history.prepend(h);
    }catch{ d().value="Error"; }
}

function sqrt(){ d().value=Math.sqrt(d().value); }
function square(){ d().value=Math.pow(d().value,2); }
function power(){ d().value+="**"; }
function reciprocal(){ d().value=1/d().value; }

function sin(){ d().value=Math.sin(d().value); }
function cos(){ d().value=Math.cos(d().value); }
function tan(){ d().value=Math.tan(d().value); }
function log(){ d().value=Math.log10(d().value); }
function pi(){ d().value+=Math.PI; }

function clearHistory(){ history.innerHTML=""; }

function toggleTheme(){
    document.body.classList.toggle("dark");
}
</script>

</body>
</html>
