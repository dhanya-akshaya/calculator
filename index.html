<!DOCTYPE html>
<html>
<head>
<title>Scientific Calculator</title>

<style>
:root{
    --bg:#f4f6fb;
    --card:#ffffff;
    --btn:#e0e0e0;
    --btn-text:#000;
    --display:#f0f0f0;
    --display-text:#000;
    --op:#5a78e4;
    --eq:#1cc88a;
    --clr:#e74a3b;
    --text:#000;
}

.dark{
    --bg:#1e1e2f;
    --card:#2a2a3d;
    --btn:#3a3a55;
    --btn-text:#ffffff;
    --display:#3a3a55;
    --display-text:#ffffff;
    --op:#7b9cff;
    --eq:#2ecc71;
    --clr:#ff6b6b;
    --text:#ffffff;
}

body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:var(--bg);
    font-family:Arial, sans-serif;
    color:var(--text);
}

.container{
    display:flex;
    gap:25px;
}

.calculator,.history{
    background:var(--card);
    padding:20px;
    border-radius:15px;
    box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

.calculator{width:300px;}
.history{width:230px;display:flex;flex-direction:column;}

#display{
    width:100%;
    height:55px;
    font-size:24px;
    text-align:right;
    margin-bottom:15px;
    padding-right:10px;
    border-radius:8px;
    border:none;
    background:var(--display);
    color:var(--display-text);
}

.toggle{
    text-align:right;
    margin-bottom:8px;
}
.toggle button{
    font-size:20px;
    background:none;
    border:none;
    cursor:pointer;
    color:var(--text);
}

.buttons{
    display:grid;
    grid-template-columns:repeat(5,1fr);
    gap:8px;
}

button{
    height:50px;
    font-size:15px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:var(--btn);
    color:var(--btn-text);
}

.operator{background:var(--op);color:white;}
.equal{background:var(--eq);color:white;grid-column:span 2;}
.clear{background:var(--clr);color:white;}

.history h3{
    text-align:center;
    color:var(--text);
}

.history-list{
    flex:1;
    overflow-y:auto;
    font-size:14px;
    color:var(--text);
}

.history-list div{
    padding:5px 0;
    border-bottom:1px solid #888;
}

.clear-history{
    margin-top:10px;
    height:35px;
    border:none;
    border-radius:8px;
    background:#f6c23e;
    cursor:pointer;
}
</style>
</head>

<body>

<div class="container">

<div class="calculator">
<div class="toggle">
<button id="themeBtn" onclick="toggleTheme()">ðŸŒ™</button>
</div>

<input type="text" id="display" disabled>

<div class="buttons">
<button class="clear" onclick="clearDisplay()">C</button>
<button onclick="sqrt()">âˆš</button>
<button onclick="square()">xÂ²</button>
<button onclick="power()">xÊ¸</button>
<button class="operator" onclick="append('/')">Ã·</button>

<button onclick="sin()">sin</button>
<button onclick="cos()">cos</button>
<button onclick="tan()">tan</button>
<button onclick="log()">log</button>
<button class="operator" onclick="append('*')">Ã—</button>

<button onclick="append('7')">7</button>
<button onclick="append('8')">8</button>
<button onclick="append('9')">9</button>
<button onclick="append(Math.PI)">Ï€</button>
<button class="operator" onclick="append('-')">âˆ’</button>

<button onclick="append('4')">4</button>
<button onclick="append('5')">5</button>
<button onclick="append('6')">6</button>
<button onclick="reciprocal()">1/x</button>
<button class="operator" onclick="append('+')">+</button>

<button onclick="append('1')">1</button>
<button onclick="append('2')">2</button>
<button onclick="append('3')">3</button>
<button onclick="append('.')">.</button>
<button class="equal" onclick="calculate()">=</button>

<button onclick="append('0')">0</button>
</div>
</div>

<div class="history">
<h3>History</h3>
<div class="history-list" id="history"></div>
<button class="clear-history" onclick="clearHistory()">Clear History</button>
</div>

</div>

<script>
const display=document.getElementById("display");
const historyBox=document.getElementById("history");
const themeBtn=document.getElementById("themeBtn");

function append(v){ display.value+=v; }
function clearDisplay(){ display.value=""; }

function calculate(){
    try{
        let exp=display.value;
        let res=eval(exp);
        display.value=res;
        let h=document.createElement("div");
        h.innerText=exp+" = "+res;
        historyBox.prepend(h);
    }catch{
        display.value="Error";
    }
}

function sqrt(){ display.value=Math.sqrt(display.value); }
function square(){ display.value=Math.pow(display.value,2); }
function power(){ display.value+="**"; }
function reciprocal(){ display.value=1/display.value; }

function sin(){ display.value=Math.sin(display.value); }
function cos(){ display.value=Math.cos(display.value); }
function tan(){ display.value=Math.tan(display.value); }
function log(){ display.value=Math.log10(display.value); }

function clearHistory(){ historyBox.innerHTML=""; }

function toggleTheme(){
    document.body.classList.toggle("dark");
    themeBtn.textContent=document.body.classList.contains("dark") ? "â˜€ï¸" : "ðŸŒ™";
}

/* Keyboard support */
document.addEventListener("keydown",e=>{
    if("0123456789.+-*/".includes(e.key)) append(e.key);
    if(e.key==="Enter") calculate();
    if(e.key==="Backspace") display.value=display.value.slice(0,-1);
    if(e.key==="Escape") clearDisplay();
});
</script>

</body>
</html>
